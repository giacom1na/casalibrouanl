<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrativa | Colecciones Casa Universitaria del Libro UANL</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Libre+Bodoni:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        uanl: { blue: '#004a87', gold: '#fccf0a', text: '#414143' }
                    },
                    fontFamily: {
                        'inter-black': ['"Inter"', 'sans-serif'], 
                        'bodoni': ['"Libre Bodoni"', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        .nav-item:hover .dropdown-menu { display: block; }
        .active-category { color: #fccf0a !important; }
        html { scroll-behavior: smooth; }

        /* Estilos del Carrusel */
        .carousel-wrapper {
            max-width: 1200px; 
            margin: 0 auto; 
            overflow: hidden;
            position: relative;
            padding: 3rem 0;
            /* Máscara eliminada para bordes nítidos */
        }
        
        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            gap: 4rem; /* Espacio entre libros */
            width: max-content;
            /* Eliminado padding-left/right para usar cálculo JS preciso */
            padding: 0 4rem; /* Un poco de aire a los lados por si acaso */
        }

        .book-card {
            flex: 0 0 auto;
            width: 280px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.5s ease, opacity 0.5s ease, filter 0.5s ease;
            position: relative;
            opacity: 0.4; /* Laterales más tenues para destacar el centro */
            transform: scale(0.85); 
            filter: grayscale(100%); 
        }

        /* ESTADO ACTIVO (CENTRO) */
        .book-card.active-card {
            opacity: 1;
            transform: scale(1.15); /* Ligeramente más grande */
            z-index: 10;
            filter: grayscale(0%);
        }
        
        .book-card:hover {
            opacity: 1;
            filter: grayscale(0%);
        }

        .book-cover {
            width: 100%;
            height: auto;
            aspect-ratio: 2/3;
            object-fit: cover;
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        /* Flechas de navegación */
        .nav-arrow {
            position: absolute;
            top: 45%; 
            transform: translateY(-50%);
            background-color: white;
            color: #fccf0a;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 30; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            border: 2px solid #fccf0a;
        }
        .nav-arrow:hover {
            background-color: #fccf0a;
            color: #004a87;
            transform: translateY(-50%) scale(1.1);
        }
        /* Posicionadas un poco más afuera para no tapar los libros adyacentes */
        .nav-arrow.prev { left: 10px; }
        .nav-arrow.next { right: 10px; }
        
        @media (min-width: 1024px) {
            .nav-arrow.prev { left: -10px; }
            .nav-arrow.next { right: -10px; }
        }

        /* Botón de colección */
        .btn-collection {
            transition: all 0.3s ease;
        }
        .btn-collection:hover {
            background-color: #fccf0a;
            color: #004a87;
            box-shadow: 0 0 15px rgba(252, 207, 10, 0.5);
        }
    </style>
</head>
<body class="bg-white text-uanl-text font-bodoni flex flex-col min-h-screen">

    <!-- HEADER (Sticky) -->
    <header class="fixed top-0 w-full z-50 bg-uanl-blue shadow-md">
        <div class="container mx-auto px-4 h-20 flex items-center justify-between lg:justify-center lg:gap-4 relative z-50 bg-uanl-blue">
            <div class="flex-shrink-0 mr-8">
                <a href="index.html" class="flex items-center">
                    <img src="img/logocasauanl.svg" alt="Logo" class="h-16 w-auto"> 
                </a>
            </div>
            <nav class="hidden lg:flex items-center space-x-6 font-inter-black text-white text-sm">
                <div class="relative group nav-item py-6 cursor-pointer hover:text-uanl-gold">
                    <span class="menu-parent">NOSOTROS <i class="fa-solid fa-caret-down ml-1"></i></span>
                    <div class="dropdown-menu absolute hidden left-0 top-full w-80 bg-uanl-blue shadow-lg border-t-2 border-uanl-gold">
                        <a href="lacasa.html" class="block px-4 py-3 text-white hover:text-uanl-gold hover:bg-blue-900">LA CASA</a>
                        <a href="salalectura.html" class="block px-4 py-3 text-white hover:text-uanl-gold hover:bg-blue-900">SALA DE LECTURA</a>
                        <a href="contacto.html" class="block px-4 py-3 text-white hover:text-uanl-gold hover:bg-blue-900">CONTACTO</a>
                    </div>
                </div>
                <div class="relative group nav-item py-6 cursor-pointer hover:text-uanl-gold">
                    <span class="menu-parent active-category">EDITORIAL UNIVERSITARIA UANL <i class="fa-solid fa-caret-down ml-1"></i></span>
                    <div class="dropdown-menu absolute hidden left-0 top-full w-56 bg-uanl-blue shadow-lg border-t-2 border-uanl-gold">
                        <a href="colecciones.html" class="block px-4 py-3 text-white hover:text-uanl-gold hover:bg-blue-900 active-category">COLECCIONES</a>
                        <a href="https://tiendacasadellibro.uanl.mx/" target="_blank" class="block px-4 py-3 text-white hover:text-uanl-gold hover:bg-blue-900">TIENDA</a>
                    </div>
                </div>
                <a href="https://uanleer.uanl.mx/" target="_blank" class="hover:text-uanl-gold">UANLEER</a>
                <a href="noticias.html" class="hover:text-uanl-gold">NOTICIAS</a>
                <a href="programas.html" class="hover:text-uanl-gold">PROGRAMAS</a>
                <a href="calendario.html" class="text-lg hover:text-uanl-gold"><i class="fa-regular fa-calendar-days"></i></a>
                <button onclick="toggleSearch()" class="text-lg hover:text-uanl-gold focus:outline-none"><i class="fa-solid fa-magnifying-glass"></i></button>
            </nav>
            <button id="mobile-menu-btn" class="lg:hidden text-white text-2xl focus:outline-none"><i class="fa-solid fa-bars"></i></button>
        </div>

        <div id="mobile-menu" class="hidden lg:hidden absolute top-20 left-0 w-full bg-uanl-blue border-t border-blue-800 shadow-xl overflow-y-auto max-h-screen pb-20 z-40">
            <div class="flex flex-col p-6 space-y-4 font-inter-black text-white">
                <a href="lacasa.html" class="block py-2 hover:text-uanl-gold">LA CASA</a>
                <a href="colecciones.html" class="block py-2 hover:text-uanl-gold active-category">COLECCIONES</a>
                <a href="https://tiendacasadellibro.uanl.mx/" class="block py-2 hover:text-uanl-gold">TIENDA</a>
            </div>
        </div>

        <div id="searchBar" class="hidden bg-white py-4 px-6 absolute w-full shadow-md z-30">
            <input type="text" placeholder="Buscar palabras clave..." class="w-full border-b-2 border-uanl-blue p-2 outline-none text-uanl-text font-bodoni text-xl">
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="mt-32 mb-20 flex-grow">
        <div class="container mx-auto px-4 relative">
            
            <!-- Título y Descripción -->
            <div class="max-w-4xl mx-auto text-center mb-12">
                <h1 class="text-5xl md:text-6xl font-inter-black text-uanl-text mb-8 tracking-wide">Narrativa</h1>
                <p class="font-bodoni text-xl md:text-2xl text-uanl-text leading-relaxed px-4 text-justify md:text-center">
                    En esta colección encontrarás autores que, con el ejercicio de la prosa, narran la desventura del mundo contemporáneo. Historias que enganchan y aventuras donde el talante narrativo nos recuerda que somos seres llenos de historias.
                </p>
            </div>

            <!-- CARRUSEL -->
            <div class="carousel-wrapper" id="carouselContainer">
                
                <!-- Flechas -->
                <button class="nav-arrow prev" onclick="moveCarousel(-1)"><i class="fa-solid fa-chevron-left"></i></button>
                <button class="nav-arrow next" onclick="moveCarousel(1)"><i class="fa-solid fa-chevron-right"></i></button>

                <!-- Track -->
                <div class="carousel-track items-start" id="track">
                    
                    <!-- Libro 1 -->
                    <div class="book-card" onclick="window.open('https://tiendacasadellibro.uanl.mx/producto/mala-resina/', '_blank')">
                        <img src="img/malaresina.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Mala resina</span> (2025)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Paul Medrano</h2>
                        </div>
                    </div>

                    <!-- Libro 2 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/muertealosartistas/', '_blank')">
                        <img src="img/muerteartistas.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Muerte a los pinches artistas...</span> (2025)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Fernando A. Flores</h2>
                        </div>
                    </div>

                    <!-- Libro 3 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/loco-por-destruir/', '_blank')">
                        <img src="img/locopordestruir.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Loco por destruir</span> (2024)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Juan Fernando Covarrubias</h2>
                        </div>
                    </div>

                    <!-- Libro 4 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/senoras/', '_blank')">
                        <img src="img/señoras.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Señoras</span> (2024)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Alberto H. Tizacreño</h2>
                        </div>
                    </div>

                    <!-- Libro 5 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/36-toneladas/', '_blank')">
                        <img src="img/36toneladas.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">36 Toneladas</span> (2023)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Iris García Cuevas</h2>
                        </div>
                    </div>

                    <!-- Libro 6 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/no-nos-vamos-a-morir-manana/', '_blank')">
                        <img src="img/morirmañana.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">No nos vamos a morir mañana</span> (2023)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Geney Beltrán Félix</h2>
                        </div>
                    </div>

                    <!-- Libro 7 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/encuentros-fortuitos/', '_blank')">
                        <img src="img/encuentrosfortuitos.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Encuentros Fortuitos</span> (2023)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Miguel Báez Durán</h2>
                        </div>
                    </div>

                    <!-- Libro 8 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/trece-mesa/', '_blank')">
                        <img src="img/trecemesa.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Trece a la mesa y otros cuentos</span> (2022)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Federico Ortiz-Moreno</h2>
                        </div>
                    </div>

                    <!-- Libro 9 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/erika-zepeda-63-senoritas/', '_blank')">
                        <img src="img/63señoritas.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">63 señoritas condenadas...</span> (2021)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Erika Zepeda</h2>
                        </div>
                    </div>

                    <!-- Libro 10 -->
                    <div class="book-card" onclick="window.open('https://editorialuniversitaria.uanl.mx/hiram-ruvalcaba-padres-sin-hijos/', '_blank')">
                        <img src="img/padreshijos.jpg" class="book-cover">
                        <div class="text-center w-full px-2">
                            <h1 class="font-bodoni text-xl text-uanl-blue leading-tight mb-2"><span class="italic font-bold">Padres sin hijos</span> (2021)</h1>
                            <h2 class="font-bodoni text-lg text-uanl-text font-bold">Hiram Ruvalcaba</h2>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Botón Ver Toda -->
            <div class="text-center mt-8">
                <a href="https://editorialuniversitaria.uanl.mx/narrativa-2/" class="btn-collection inline-block bg-uanl-blue text-white font-inter-black px-10 py-4 rounded-xl text-xl uppercase tracking-wide shadow-lg">
                    Ver toda la colección
                </a>
            </div>

        </div>
    </main>

    <!-- FOOTER COMPLETO -->
    <footer class="bg-uanl-text text-white py-12 border-t-4 border-uanl-gold mt-auto">
        <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h3 class="font-bodoni text-2xl mb-4 text-white border-b border-gray-500 pb-2 inline-block">Contáctanos</h3>
                <form class="space-y-3">
                    <input type="email" placeholder="Tu correo electrónico" class="w-full p-2 bg-gray-600 text-white placeholder-gray-300 border border-gray-500 rounded focus:outline-none focus:border-uanl-gold font-bodoni">
                    <textarea maxlength="120" rows="3" placeholder="Mensaje" class="w-full p-2 bg-gray-600 text-white placeholder-gray-300 border border-gray-500 rounded focus:outline-none focus:border-uanl-gold resize-none"></textarea>
                    <button type="button" class="bg-uanl-blue text-white px-4 py-1 rounded hover:bg-uanl-gold hover:text-uanl-blue transition font-inter-black text-sm">ENVIAR</button>
                </form>
            </div>
            <div class="text-center flex flex-col justify-center items-center font-bodoni space-y-2">
                <p class="text-lg font-bold">Casa Universitaria del Libro UANL</p>
                <p>Padre Mier 909 Pte. esquina con Vallarta.</p>
                <p>Monterrey, Nuevo León.</p>
                <p class="text-uanl-gold font-bold mt-2">81 8329 4111</p>
            </div>
            <div class="flex items-center justify-center md:justify-end gap-6">
                <a href="https://www.facebook.com/CasaLibroUANL/?locale=es_LA" target="_blank" class="text-3xl hover:text-uanl-gold transition-colors"><i class="fa-brands fa-facebook"></i></a>
                <a href="https://www.instagram.com/casadellibrouanl/?hl=es" target="_blank" class="text-3xl hover:text-uanl-gold transition-colors"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://www.tiktok.com/@casalibrouanl" target="_blank" class="text-3xl hover:text-uanl-gold transition-colors"><i class="fa-brands fa-tiktok"></i></a>
            </div>
        </div>
        <div class="text-center mt-8 text-gray-500 text-xs font-inter-black">&copy; 2025 UNIVERSIDAD AUTÓNOMA DE NUEVO LEÓN</div>
    </footer>

    <script>
        // --- Header & Search Logic ---
        function toggleSearch() {
            const searchBar = document.getElementById('searchBar');
            searchBar.classList.toggle('hidden');
            if(!searchBar.classList.contains('hidden')) searchBar.querySelector('input').focus();
        }
        
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        if (btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });
        }

        // --- CARRUSEL LOGIC MEJORADO ---
        const track = document.getElementById('track');
        const wrapper = document.getElementById('carouselContainer');
        const cards = document.querySelectorAll('.book-card');
        const totalCards = cards.length;
        // Iniciar en la mitad para simular centralidad
        let currentIndex = Math.floor(totalCards / 2); 

        function updateCarousel() {
            if (cards.length === 0) return;

            // Datos de dimensiones
            const cardWidth = 280; 
            const gap = 64; // 4rem = 64px
            const totalItemWidth = cardWidth + gap;
            
            // Ancho del contenedor (wrapper)
            const wrapperWidth = wrapper.offsetWidth;
            
            // Fórmula corregida:
            // Queremos que el centro del libro activo coincida con el centro del wrapper.
            // Posición del centro del libro 'i' (desde el inicio del track incluyendo padding 4rem):
            // PosX = 4rem(padding-left del track) + (index * totalItemWidth) + (cardWidth / 2)
            
            // Padding del track (definido en CSS: padding: 0 4rem -> 64px)
            const trackPaddingLeft = 64;
            
            const activeCardCenter = trackPaddingLeft + (currentIndex * totalItemWidth) + (cardWidth / 2);
            const wrapperCenter = wrapperWidth / 2;
            
            // El desplazamiento necesario es la diferencia para llevar activeCardCenter a wrapperCenter
            // translateX = wrapperCenter - activeCardCenter
            const offset = wrapperCenter - activeCardCenter;
            
            track.style.transform = `translateX(${offset}px)`;

            // Actualizar clases activas visuales
            cards.forEach((card, index) => {
                if (index === currentIndex) {
                    card.classList.add('active-card');
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1.15)';
                    card.style.filter = 'grayscale(0%)';
                } else {
                    card.classList.remove('active-card');
                    card.style.opacity = '0.4';
                    card.style.transform = 'scale(0.85)';
                    card.style.filter = 'grayscale(100%)';
                }
            });
        }

        function moveCarousel(direction) {
            currentIndex += direction;
            if (currentIndex < 0) {
                currentIndex = totalCards - 1;
            } else if (currentIndex >= totalCards) {
                currentIndex = 0;
            }
            updateCarousel();
        }

        window.addEventListener('resize', updateCarousel);
        window.addEventListener('load', updateCarousel);
        // Timeout para asegurar que el renderizado inicial capture el ancho correcto
        setTimeout(updateCarousel, 50); 
    </script>
</body>
</html>